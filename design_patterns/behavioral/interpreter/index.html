<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Object Behavioral: Interpreter | DevBook</title><link rel="canonical" href="https://j-ochmann.github.io/design_patterns/behavioral/interpreter/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.16.6"/><meta name="generator" content="Starlight v0.37.1"/><meta property="og:title" content="Object Behavioral: Interpreter"/><meta property="og:type" content="article"/><meta property="og:url" content="https://j-ochmann.github.io/design_patterns/behavioral/interpreter/"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="DevBook"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.BGYTJlGT.css">
<style>@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-zntqmydn){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media(min-width:50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media(min-width:50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3" translate="no"> DevBook </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/j-ochmann" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="1mzibzf" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Quick Reference</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/quick_reference/cpp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">C++</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Design Patterns</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <details class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Creational</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/creational/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/abstract_factory/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Abstract Factory</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/builder/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Builder</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/factory_methot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Factory Method</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/prototype/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Prototype</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/singleton/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Singleton</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/discussion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Discussion</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Structural</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/structural/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/adapter/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adapter</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/bridge/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Bridge</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/composite/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Composite</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/decorator/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Decorator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/facade/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Facade</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/flyweight/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Flyweight</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/proxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Proxy</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/discussion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Discussion</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Behavioral</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/chain_of_responsibility/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Chain of Responsibility</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/command/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Command</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/interpreter/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Interpreter</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/iterator/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Iterator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/mediator/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Mediator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/memento/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Memento</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/observer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Observer</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/state/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">State</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/strategy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Strategy</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/template_method/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Template Method</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/visitor/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Visitor</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/discussion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Discussion</span>  </a> </li> </ul>  </details> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/external_resources/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">External Resources</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/3d-graph-example/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">3D Graph Example</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ai/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">Artificial Intelligence</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/courses/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">Courses</span> <span class="sl-badge default small  astro-3ii7xxms astro-avdet4wd">Free</span> </a> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <a href="https://github.com/j-ochmann" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#intent" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Intent</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#motivation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Motivation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#applicability" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Applicability</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#structure" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#collaborations" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Collaborations</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#consequences" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Consequences</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#sample-code" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Sample Code</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#known-uses" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Known Uses</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#related-patterns" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Related Patterns</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#intent" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Intent</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#motivation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Motivation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#applicability" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Applicability</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#structure" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#collaborations" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Collaborations</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#consequences" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Consequences</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#sample-code" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Sample Code</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#known-uses" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Known Uses</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#related-patterns" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Related Patterns</span> </a>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Object Behavioral: Interpreter</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <div class="sl-heading-wrapper level-h2"><h2 id="intent">Intent</h2><a class="sl-anchor-link" href="#intent"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Intent”</span></a></div>
<p>Given a language, define a represention for its grammar along with an interpreter that uses the representation to interpret sentences in the language.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="motivation">Motivation</h2><a class="sl-anchor-link" href="#motivation"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Motivation”</span></a></div>
<p>If a particular kind of problem occurs often enough, then it might be worthwhile to express instances of the problem as sentences in a simple language. Then you can build an interpreter that solves the problem by interpreting these sentences.</p>
<p>For example, searching for strings that match a pattern is a common problem. Regular expressions are a standard language for specifying patterns of strings. Rather than building custom algorithms to match each pattern against strings, search algorithms could interpret a regular expression that specifies a set of strings to match.</p>
<p>The Interpreter pattern describes how to define a grammar for simple languages, represent sentences in the language, and interpret these sentences. In this example, the pattern describes how to define a grammar for regular expressions, represent a particular regular expression, and how to interpret that regular expression.</p>
<p>Suppose the following grammar defines the regular expressions:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The symbol expression is the start symbol, and literal is a terminal symbol defining simple words</p>
<p>The Interpreter pattern uses a class to represent each grammar rule. Symbols on the right-hand side of the rule are instance variables of these classes. The grammar above is represented by five classes: an abstract class RegularExpression and its four subclasses LiteralExpression, AlternationExpression, SequenceExpression, and RepetitionExpression. The last three classes define variables that hold subexpressions.</p>
<img alt="" height="100" id="mermaid-0" src="data:image/svg+xml,%3csvg id=&#x27;mermaid-0&#x27; width=&#x27;100%25&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; class=&#x27;classDiagram&#x27; style=&#x27;max-width: 98.6875px%3b&#x27; viewBox=&#x27;0 0 98.6875 100&#x27; role=&#x27;graphics-document document&#x27; aria-roledescription=&#x27;class&#x27;%3e%3cstyle%3e%23mermaid-0%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-0 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .error-icon%7bfill:%23552222%3b%7d%23mermaid-0 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-0 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-0 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-0 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-0 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-0 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-0 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-0 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-0 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-0 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-0 p%7bmargin:0%3b%7d%23mermaid-0 g.classGroup text%7bfill:%239370DB%3bstroke:none%3bfont-family:arial%2csans-serif%3bfont-size:10px%3b%7d%23mermaid-0 g.classGroup text .title%7bfont-weight:bolder%3b%7d%23mermaid-0 .nodeLabel%2c%23mermaid-0 .edgeLabel%7bcolor:%23131300%3b%7d%23mermaid-0 .edgeLabel .label rect%7bfill:%23ECECFF%3b%7d%23mermaid-0 .label text%7bfill:%23131300%3b%7d%23mermaid-0 .labelBkg%7bbackground:%23ECECFF%3b%7d%23mermaid-0 .edgeLabel .label span%7bbackground:%23ECECFF%3b%7d%23mermaid-0 .classTitle%7bfont-weight:bolder%3b%7d%23mermaid-0 .node rect%2c%23mermaid-0 .node circle%2c%23mermaid-0 .node ellipse%2c%23mermaid-0 .node polygon%2c%23mermaid-0 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-0 .divider%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-0 g.clickable%7bcursor:pointer%3b%7d%23mermaid-0 g.classGroup rect%7bfill:%23ECECFF%3bstroke:%239370DB%3b%7d%23mermaid-0 g.classGroup line%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-0 .classLabel .box%7bstroke:none%3bstroke-width:0%3bfill:%23ECECFF%3bopacity:0.5%3b%7d%23mermaid-0 .classLabel .label%7bfill:%239370DB%3bfont-size:10px%3b%7d%23mermaid-0 .relation%7bstroke:%23333333%3bstroke-width:1%3bfill:none%3b%7d%23mermaid-0 .dashed-line%7bstroke-dasharray:3%3b%7d%23mermaid-0 .dotted-line%7bstroke-dasharray:1 2%3b%7d%23mermaid-0 %23compositionStart%2c%23mermaid-0 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23compositionEnd%2c%23mermaid-0 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23dependencyStart%2c%23mermaid-0 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23dependencyStart%2c%23mermaid-0 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23extensionStart%2c%23mermaid-0 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23extensionEnd%2c%23mermaid-0 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23aggregationStart%2c%23mermaid-0 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23aggregationEnd%2c%23mermaid-0 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23lollipopStart%2c%23mermaid-0 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23lollipopEnd%2c%23mermaid-0 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 .edgeTerminals%7bfont-size:11px%3bline-height:initial%3b%7d%23mermaid-0 .classTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-0 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-0 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-0 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-aggregationStart&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-aggregationEnd&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-extensionStart&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c7 L18%2c13 V 1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-extensionEnd&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c1 V 13 L18%2c7 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-compositionStart&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-compositionEnd&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-dependencyStart&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;6&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 5%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-dependencyEnd&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L14%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-lollipopStart&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-lollipopEnd&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;/%3e%3cg class=&#x27;edgeLabels&#x27;/%3e%3cg class=&#x27;nodes&#x27;%3e%3cg class=&#x27;node default&#x27; id=&#x27;classId-Dummy-0&#x27; transform=&#x27;translate(49.34375%2c 50)&#x27;%3e%3cg class=&#x27;basic label-container&#x27;%3e%3cpath d=&#x27;M-41.34375 -42 L41.34375 -42 L41.34375 42 L-41.34375 42&#x27; stroke=&#x27;none&#x27; stroke-width=&#x27;0&#x27; fill=&#x27;%23ECECFF&#x27; style=&#x27;&#x27;/%3e%3cpath d=&#x27;M-41.34375 -42 C-15.835693846364254 -42%2c 9.672362307271491 -42%2c 41.34375 -42 M-41.34375 -42 C-17.189350905030835 -42%2c 6.965048189938329 -42%2c 41.34375 -42 M41.34375 -42 C41.34375 -21.20060155977145%2c 41.34375 -0.4012031195428989%2c 41.34375 42 M41.34375 -42 C41.34375 -22.667984185129573%2c 41.34375 -3.3359683702591454%2c 41.34375 42 M41.34375 42 C19.35246083118409 42%2c -2.6388283376318213 42%2c -41.34375 42 M41.34375 42 C11.644937149224258 42%2c -18.053875701551483 42%2c -41.34375 42 M-41.34375 42 C-41.34375 21.030113047421327%2c -41.34375 0.06022609484265473%2c -41.34375 -42 M-41.34375 42 C-41.34375 10.865930285604257%2c -41.34375 -20.268139428791486%2c -41.34375 -42&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;annotation-group text&#x27; transform=&#x27;translate(0%2c -18)&#x27;/%3e%3cg class=&#x27;label-group text&#x27; transform=&#x27;translate(-29.34375%2c -18)&#x27;%3e%3cg class=&#x27;label&#x27; style=&#x27;font-weight: bolder&#x27; transform=&#x27;translate(0%2c-12)&#x27;%3e%3cforeignObject width=&#x27;58.6875&#x27; height=&#x27;24&#x27;%3e%3cdiv xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27; style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 105px%3b text-align: center%3b&#x27;%3e%3cspan class=&#x27;nodeLabel markdown-node-label&#x27; style=&#x27;&#x27;%3e%3cp%3eDummy%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;members-group text&#x27; transform=&#x27;translate(-29.34375%2c 30)&#x27;/%3e%3cg class=&#x27;methods-group text&#x27; transform=&#x27;translate(-29.34375%2c 60)&#x27;/%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 6 C-22.97293646296347 6%2c -4.602122925926942 6%2c 41.34375 6 M-41.34375 6 C-10.549067811006918 6%2c 20.245614377986165 6%2c 41.34375 6&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 24 C-24.040910452239643 24%2c -6.738070904479287 24%2c 41.34375 24 M-41.34375 24 C-18.27884117581217 24%2c 4.7860676483756635 24%2c 41.34375 24&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="98.6875">
<p>Every regular expression defined by this grammar is represented by an abstract syntax tree made up of instances of these classes. For example, the abstract syntax tree</p>
<img alt="" height="100" id="mermaid-1" src="data:image/svg+xml,%3csvg id=&#x27;mermaid-1&#x27; width=&#x27;100%25&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; class=&#x27;classDiagram&#x27; style=&#x27;max-width: 98.6875px%3b&#x27; viewBox=&#x27;0 0 98.6875 100&#x27; role=&#x27;graphics-document document&#x27; aria-roledescription=&#x27;class&#x27;%3e%3cstyle%3e%23mermaid-1%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-1 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .error-icon%7bfill:%23552222%3b%7d%23mermaid-1 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-1 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-1 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-1 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-1 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-1 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-1 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-1 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-1 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-1 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-1 p%7bmargin:0%3b%7d%23mermaid-1 g.classGroup text%7bfill:%239370DB%3bstroke:none%3bfont-family:arial%2csans-serif%3bfont-size:10px%3b%7d%23mermaid-1 g.classGroup text .title%7bfont-weight:bolder%3b%7d%23mermaid-1 .nodeLabel%2c%23mermaid-1 .edgeLabel%7bcolor:%23131300%3b%7d%23mermaid-1 .edgeLabel .label rect%7bfill:%23ECECFF%3b%7d%23mermaid-1 .label text%7bfill:%23131300%3b%7d%23mermaid-1 .labelBkg%7bbackground:%23ECECFF%3b%7d%23mermaid-1 .edgeLabel .label span%7bbackground:%23ECECFF%3b%7d%23mermaid-1 .classTitle%7bfont-weight:bolder%3b%7d%23mermaid-1 .node rect%2c%23mermaid-1 .node circle%2c%23mermaid-1 .node ellipse%2c%23mermaid-1 .node polygon%2c%23mermaid-1 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-1 .divider%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-1 g.clickable%7bcursor:pointer%3b%7d%23mermaid-1 g.classGroup rect%7bfill:%23ECECFF%3bstroke:%239370DB%3b%7d%23mermaid-1 g.classGroup line%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-1 .classLabel .box%7bstroke:none%3bstroke-width:0%3bfill:%23ECECFF%3bopacity:0.5%3b%7d%23mermaid-1 .classLabel .label%7bfill:%239370DB%3bfont-size:10px%3b%7d%23mermaid-1 .relation%7bstroke:%23333333%3bstroke-width:1%3bfill:none%3b%7d%23mermaid-1 .dashed-line%7bstroke-dasharray:3%3b%7d%23mermaid-1 .dotted-line%7bstroke-dasharray:1 2%3b%7d%23mermaid-1 %23compositionStart%2c%23mermaid-1 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23compositionEnd%2c%23mermaid-1 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23dependencyStart%2c%23mermaid-1 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23dependencyStart%2c%23mermaid-1 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23extensionStart%2c%23mermaid-1 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23extensionEnd%2c%23mermaid-1 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23aggregationStart%2c%23mermaid-1 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23aggregationEnd%2c%23mermaid-1 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23lollipopStart%2c%23mermaid-1 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23lollipopEnd%2c%23mermaid-1 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 .edgeTerminals%7bfont-size:11px%3bline-height:initial%3b%7d%23mermaid-1 .classTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-1 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-1 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-1 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-aggregationStart&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-aggregationEnd&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-extensionStart&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c7 L18%2c13 V 1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-extensionEnd&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c1 V 13 L18%2c7 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-compositionStart&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-compositionEnd&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-dependencyStart&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;6&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 5%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-dependencyEnd&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L14%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-lollipopStart&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-lollipopEnd&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;/%3e%3cg class=&#x27;edgeLabels&#x27;/%3e%3cg class=&#x27;nodes&#x27;%3e%3cg class=&#x27;node default&#x27; id=&#x27;classId-Dummy-1&#x27; transform=&#x27;translate(49.34375%2c 50)&#x27;%3e%3cg class=&#x27;basic label-container&#x27;%3e%3cpath d=&#x27;M-41.34375 -42 L41.34375 -42 L41.34375 42 L-41.34375 42&#x27; stroke=&#x27;none&#x27; stroke-width=&#x27;0&#x27; fill=&#x27;%23ECECFF&#x27; style=&#x27;&#x27;/%3e%3cpath d=&#x27;M-41.34375 -42 C-14.842283123651985 -42%2c 11.65918375269603 -42%2c 41.34375 -42 M-41.34375 -42 C-8.925726173376525 -42%2c 23.49229765324695 -42%2c 41.34375 -42 M41.34375 -42 C41.34375 -8.540568942479041%2c 41.34375 24.918862115041918%2c 41.34375 42 M41.34375 -42 C41.34375 -9.284115033976825%2c 41.34375 23.43176993204635%2c 41.34375 42 M41.34375 42 C17.91638482577594 42%2c -5.510980348448122 42%2c -41.34375 42 M41.34375 42 C12.210550364977763 42%2c -16.922649270044474 42%2c -41.34375 42 M-41.34375 42 C-41.34375 10.150090702676533%2c -41.34375 -21.699818594646935%2c -41.34375 -42 M-41.34375 42 C-41.34375 9.22929219472855%2c -41.34375 -23.5414156105429%2c -41.34375 -42&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;annotation-group text&#x27; transform=&#x27;translate(0%2c -18)&#x27;/%3e%3cg class=&#x27;label-group text&#x27; transform=&#x27;translate(-29.34375%2c -18)&#x27;%3e%3cg class=&#x27;label&#x27; style=&#x27;font-weight: bolder&#x27; transform=&#x27;translate(0%2c-12)&#x27;%3e%3cforeignObject width=&#x27;58.6875&#x27; height=&#x27;24&#x27;%3e%3cdiv xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27; style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 105px%3b text-align: center%3b&#x27;%3e%3cspan class=&#x27;nodeLabel markdown-node-label&#x27; style=&#x27;&#x27;%3e%3cp%3eDummy%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;members-group text&#x27; transform=&#x27;translate(-29.34375%2c 30)&#x27;/%3e%3cg class=&#x27;methods-group text&#x27; transform=&#x27;translate(-29.34375%2c 60)&#x27;/%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 6 C-12.361884740698883 6%2c 16.619980518602233 6%2c 41.34375 6 M-41.34375 6 C-10.74855966676181 6%2c 19.84663066647638 6%2c 41.34375 6&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 24 C-12.787647464964259 24%2c 15.768455070071482 24%2c 41.34375 24 M-41.34375 24 C-8.325079702127297 24%2c 24.693590595745405 24%2c 41.34375 24&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="98.6875">
<p>represents the regular expression</p>
<p>raining &#x26; (dogs | cats) *</p>
<p>We can create an interpreter for these regular expressions by defining the Interpret operation on each subclass of RegularExpression. Interpret takes as an argument the context in which to interpret the expression. The context contains the input string and information on how much of it has been matched so far. Each subclass of RegularExpression implements Interpret to match the next part of the input string based on the current context. For example,</p>
<ul>
<li>LiteralExpression will check if the input matches the literal it defines,</li>
<li>AlternationExpression will check if the input matches any of its alternatives,</li>
<li>RepetitionExpression will check if the input has multiple copies of expression it repeats,</li>
</ul>
<p>and so on.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="applicability">Applicability</h2><a class="sl-anchor-link" href="#applicability"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Applicability”</span></a></div>
<p>Use the Interpreter pattern when there is a language to interpret, and you can represent statements in the language as abstract syntax trees. The Interpreter pattern works best when</p>
<ul>
<li>the grammar is simple. For complex grammars, the class hierarchy for the grammar becomes large and unmanageable. Tools such as parser generators are a better alternative in such cases. They can interpret expressions without building abstract syntax trees, which can save space and possibly time.</li>
<li>efficiency is not a critical concern. The most efficient interpreters are usually not implemented by interpreting parse trees directly but by first translating them into another form. For example, regular expressions are often transformed into state machines. But even then, the translator can be implemented by the Interpreter pattern, so the pattern is still applicable.</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="structure">Structure</h2><a class="sl-anchor-link" href="#structure"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Structure”</span></a></div>
<img alt="" height="100" id="mermaid-2" src="data:image/svg+xml,%3csvg id=&#x27;mermaid-2&#x27; width=&#x27;100%25&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; class=&#x27;classDiagram&#x27; style=&#x27;max-width: 98.6875px%3b&#x27; viewBox=&#x27;0 0 98.6875 100&#x27; role=&#x27;graphics-document document&#x27; aria-roledescription=&#x27;class&#x27;%3e%3cstyle%3e%23mermaid-2%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-2 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .error-icon%7bfill:%23552222%3b%7d%23mermaid-2 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-2 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-2 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-2 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-2 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-2 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-2 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-2 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-2 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-2 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-2 p%7bmargin:0%3b%7d%23mermaid-2 g.classGroup text%7bfill:%239370DB%3bstroke:none%3bfont-family:arial%2csans-serif%3bfont-size:10px%3b%7d%23mermaid-2 g.classGroup text .title%7bfont-weight:bolder%3b%7d%23mermaid-2 .nodeLabel%2c%23mermaid-2 .edgeLabel%7bcolor:%23131300%3b%7d%23mermaid-2 .edgeLabel .label rect%7bfill:%23ECECFF%3b%7d%23mermaid-2 .label text%7bfill:%23131300%3b%7d%23mermaid-2 .labelBkg%7bbackground:%23ECECFF%3b%7d%23mermaid-2 .edgeLabel .label span%7bbackground:%23ECECFF%3b%7d%23mermaid-2 .classTitle%7bfont-weight:bolder%3b%7d%23mermaid-2 .node rect%2c%23mermaid-2 .node circle%2c%23mermaid-2 .node ellipse%2c%23mermaid-2 .node polygon%2c%23mermaid-2 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-2 .divider%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-2 g.clickable%7bcursor:pointer%3b%7d%23mermaid-2 g.classGroup rect%7bfill:%23ECECFF%3bstroke:%239370DB%3b%7d%23mermaid-2 g.classGroup line%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-2 .classLabel .box%7bstroke:none%3bstroke-width:0%3bfill:%23ECECFF%3bopacity:0.5%3b%7d%23mermaid-2 .classLabel .label%7bfill:%239370DB%3bfont-size:10px%3b%7d%23mermaid-2 .relation%7bstroke:%23333333%3bstroke-width:1%3bfill:none%3b%7d%23mermaid-2 .dashed-line%7bstroke-dasharray:3%3b%7d%23mermaid-2 .dotted-line%7bstroke-dasharray:1 2%3b%7d%23mermaid-2 %23compositionStart%2c%23mermaid-2 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23compositionEnd%2c%23mermaid-2 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23dependencyStart%2c%23mermaid-2 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23dependencyStart%2c%23mermaid-2 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23extensionStart%2c%23mermaid-2 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23extensionEnd%2c%23mermaid-2 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23aggregationStart%2c%23mermaid-2 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23aggregationEnd%2c%23mermaid-2 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23lollipopStart%2c%23mermaid-2 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23lollipopEnd%2c%23mermaid-2 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 .edgeTerminals%7bfont-size:11px%3bline-height:initial%3b%7d%23mermaid-2 .classTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-2 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-2 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-2 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-aggregationStart&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-aggregationEnd&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-extensionStart&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c7 L18%2c13 V 1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-extensionEnd&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c1 V 13 L18%2c7 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-compositionStart&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-compositionEnd&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-dependencyStart&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;6&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 5%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-dependencyEnd&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L14%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-lollipopStart&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-lollipopEnd&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;/%3e%3cg class=&#x27;edgeLabels&#x27;/%3e%3cg class=&#x27;nodes&#x27;%3e%3cg class=&#x27;node default&#x27; id=&#x27;classId-Dummy-2&#x27; transform=&#x27;translate(49.34375%2c 50)&#x27;%3e%3cg class=&#x27;basic label-container&#x27;%3e%3cpath d=&#x27;M-41.34375 -42 L41.34375 -42 L41.34375 42 L-41.34375 42&#x27; stroke=&#x27;none&#x27; stroke-width=&#x27;0&#x27; fill=&#x27;%23ECECFF&#x27; style=&#x27;&#x27;/%3e%3cpath d=&#x27;M-41.34375 -42 C-21.408667207564534 -42%2c -1.4735844151290678 -42%2c 41.34375 -42 M-41.34375 -42 C-17.384826868379797 -42%2c 6.574096263240406 -42%2c 41.34375 -42 M41.34375 -42 C41.34375 -24.901624504007554%2c 41.34375 -7.803249008015108%2c 41.34375 42 M41.34375 -42 C41.34375 -24.86634706911551%2c 41.34375 -7.732694138231018%2c 41.34375 42 M41.34375 42 C18.528833479308133 42%2c -4.286083041383733 42%2c -41.34375 42 M41.34375 42 C23.908905996113564 42%2c 6.474061992227128 42%2c -41.34375 42 M-41.34375 42 C-41.34375 11.5856253078455%2c -41.34375 -18.828749384309%2c -41.34375 -42 M-41.34375 42 C-41.34375 16.479821591254048%2c -41.34375 -9.040356817491904%2c -41.34375 -42&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;annotation-group text&#x27; transform=&#x27;translate(0%2c -18)&#x27;/%3e%3cg class=&#x27;label-group text&#x27; transform=&#x27;translate(-29.34375%2c -18)&#x27;%3e%3cg class=&#x27;label&#x27; style=&#x27;font-weight: bolder&#x27; transform=&#x27;translate(0%2c-12)&#x27;%3e%3cforeignObject width=&#x27;58.6875&#x27; height=&#x27;24&#x27;%3e%3cdiv xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27; style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 105px%3b text-align: center%3b&#x27;%3e%3cspan class=&#x27;nodeLabel markdown-node-label&#x27; style=&#x27;&#x27;%3e%3cp%3eDummy%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;members-group text&#x27; transform=&#x27;translate(-29.34375%2c 30)&#x27;/%3e%3cg class=&#x27;methods-group text&#x27; transform=&#x27;translate(-29.34375%2c 60)&#x27;/%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 6 C-23.717257693090854 6%2c -6.090765386181708 6%2c 41.34375 6 M-41.34375 6 C-22.411633684979353 6%2c -3.4795173699587068 6%2c 41.34375 6&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 24 C-16.563671928471013 24%2c 8.216406143057974 24%2c 41.34375 24 M-41.34375 24 C-23.51472254129616 24%2c -5.685695082592318 24%2c 41.34375 24&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="98.6875">
<p>Participants</p>
<ul>
<li>AbstractExpression (RegularExpression)</li>
<li>declares an abstract Interpret operation that is common to all nodes in the abstract syntax tree.</li>
<li>TerminalExpression (LiteralExpression)</li>
<li>implements an Interpret operation associated with terminal symbols in the grammar.</li>
<li>an instance is required for every terminal symbol in a sentence.</li>
<li>NonterminalExpression (AlternationExpression, RepetitionExpression, SequenceExpressions)</li>
<li>one such class is required for every rule R ::= R1R2…Rn in the grammar.</li>
<li>maintains instance variables of type AbstractExpression for each of the symbols R1 through Rn.</li>
<li>implements an Interpret operation for nonterminal symbols in the grammar. Interpret typically calls itself recursively on the variables representing R1 through Rn.</li>
<li>Context</li>
<li>contains information that’s global to the interpreter.</li>
<li>Client</li>
<li>builds (or is given) an abstract syntax tree representing a particular sentence in the language that the grammar defines. The abstract syntax tree is assembled from instances of the NonterminalExpression and TerminalExpression classes.</li>
<li>invokes the Interpret operation.</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="collaborations">Collaborations</h2><a class="sl-anchor-link" href="#collaborations"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Collaborations”</span></a></div>
<ul>
<li>The client builds (or is given) the sentence as an abstract syntax tree of NonterminalExpression and TerminalExpression instances. Then the client initializes the context and invokes the Interpret operation.</li>
<li>Each NonterminalExpression node defines Interpret in terms of Interpret on each subexpression. The Interpret operation of each TerminalExpression defines the base case in the recursion.</li>
<li>The Interpret operations at each node use the context to store and access the state of the interpreter.</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="consequences">Consequences</h2><a class="sl-anchor-link" href="#consequences"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Consequences”</span></a></div>
<p>The Interpreter pattern has the following benefits and liabilities:</p>
<ol>
<li>
<p>It’s easy to change and extend the grammar. Because the pattern uses classes to represent grammar rules, you can use inheritance to change or extend the grammar. Existing expressions can be modified incrementally, and new expressions can be defined as variations on old ones.</p>
</li>
<li>
<p>Implementing the grammar is easy, too. Classes defining nodes in the abstract syntax tree have similar implementations. These classes are easy to write, and often their generation can be automated with a compiler or parser generator.</p>
</li>
<li>
<p>Complex grammars are hard to maintain. The Interpreter pattern defines at least one class for every rule in the grammar (grammar rules defined using BNF may require multiple classes). Hence grammars containing many rules can be hard to manage and maintain. Other design patterns can be applied to mitigate the problem (see Implementation). But when the grammar is very complex, other techniques such as parser or compiler generators are more appropriate.</p>
</li>
<li>
<p>Adding new ways to interpret expressions. The Interpreter pattern makes it easier to evaluate an expression in a new way. For example, you can support pretty printing or type-checking an expression by defining a new operation on the expression classes. If you keep creating new ways of interpreting an expression, then consider using the Visitor (331) pattern to avoid changing the grammar classes.</p>
</li>
</ol>
<p>Implementation</p>
<p>The Interpreter and Composite (163) patterns share many implementation issues. The following issues are specific to Interpreter:</p>
<ol>
<li>
<p>Creating the abstract syntax tree. The Interpreter pattern doesn’t explain how to create an abstract syntax tree. In other words, it doesn’t address parsing. The abstract syntax tree can be created by a table-driven parser, by a hand-crafted (usually recursive descent) parser, or directly by the client.</p>
</li>
<li>
<p>Defining the Interpret operation. You don’t have to define the Interpret operation in the expression classes. If it’s common to create a new interpreter, then it’s better to use the Visitor (331) pattern to put Interpret in a separate “visitor” object. For example, a grammar for a programming language will have many operations on abstract syntax trees, such as as type-checking, optimization, code generation, and so on. It will be more likely to use a visitor to avoid defining these operations on every grammar class.</p>
</li>
<li>
<p>Sharing terminal symbols with the Flyweight pattern. Grammars whose sentences contain many occurrences of a terminal symbol might benefit from sharing a single copy of that symbol. Grammars for computer programs are good examples—each program variable will appear in many places throughout the code. In the Motivation example, a sentence can have the terminal symbol dog (modeled by the LiteralExpression class) appearing many times.</p>
</li>
</ol>
<p>Terminal nodes generally don’t store information about their position in the abstract syntax tree. Parent nodes pass them whatever context they need during interpretation. Hence there is a distinction between shared (intrinsic) state and passed-in (extrinsic) state, and the Flyweight (195) pattern applies.</p>
<p>For example, each instance of LiteralExpression for dog receives a context containing the substring matched so far. And every such LiteralExpression does the same thing in its Interpret operation—it checks whether the next part of the input contains a dog—no matter where the instance appears in the tree.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="sample-code">Sample Code</h2><a class="sl-anchor-link" href="#sample-code"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Sample Code”</span></a></div>
<p>Here are two examples. The first is a complete example in Smalltalk for checking whether a sequence matches a regular expression. The second is a C++ program for evaluating Boolean expressions.</p>
<p>The regular expression matcher tests whether a string is in the language defined by the regular expression. The regular expression is defined by the following grammar:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>This grammar is a slight modification of the Motivation example. We changed the concrete syntax of regular expressions a little, because symbol ”*” can’t be a postfix operation in Smalltalk. So we use repeat instead. For example, the regular expression</p>
<p>((‘dog ’ | ‘cat ’) repeat &#x26; ‘weather’)</p>
<p>matches the input string “dog dog cat weather”.</p>
<p>To implement the matcher, we define the five classes described on page 243. The class SequenceExpression has instance variables expression1 and expression2 for its children in the abstract syntax tree. AlternationExpression stores its alternatives in the instance variables alternativel and alternative2, while RepetitionExpression holds the expression it repeats in its repetition instance variable. LiteralExpression has a components instance variable that holds a list of objects (probably characters). These represent the literal string that must match the input sequence.</p>
<p>The match: operation implements an interpreter for the regular expression. Each of the classes defining the abstract syntax tree implements this operation. It takes inputState as an argument representing the current state of the matching process, having read part of the input string.</p>
<p>This current state is characterized by a set of input streams representing the set of inputs that the regular expression could have accepted so far. (This is roughly equivalent to recording all states that the equivalent finite state automata would be in, having recognized the input stream to this point).</p>
<p>The current state is most important to the repeat operation. For example, if the regular expression were</p>
<p>‘a’ repeat</p>
<p>then the interpreter could match “a”, “aa”, “aaa”, and so on. If it were</p>
<p>‘a’ repeat &#x26; ‘be’</p>
<p>then it could match “abc”, “aabc”, “aaabc”, and so on. But if the regular expression were</p>
<p>‘a’ repeat &#x26; ‘abc’</p>
<p>then matching the input “aabc” against the subexpression “‘a’ repeat” would yield two input streams, one having matched one character of the input, and the other having matched two characters. Only the stream that has accepted one character will match the remaining “abc”.</p>
<p>Now we consider the definitions of match: for each class defining the regular expression. The definition for SequenceExpression matches each of its subexpressions in sequence. Usually it will eliminate input streams from its inputState.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>An AlternationExpression will return a state that consists of the union of states from either alternative. The definition of match: for AlternationExpression is</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The match: operation for RepetitionExpression tries to find as many states that could match as possible:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Its output state usually contains more states than its input state, because a RepetitionExpression can match one, two, or many occurrences of repetition on the input state. The output states represent all these possibilities, allowing subsequent elements of the regular expression to decide which state is the correct one.</p>
<p>Finally, the definition of match: for LiteralExpression tries to match its components against each possible input stream. It keeps only those input streams that have a match:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The nextAvailable: message advances the input stream. This is the only match: operation that advances the stream. Notice how the state that’s returned contains a copy of the input stream, thereby ensuring that matching a literal never changes the input stream. This is important because each alternative of an AlternationExpression should see identical copies of the input stream.</p>
<p>Now that we’ve defined the classes that make up an abstract syntax tree, we can describe how to build it. Rather than write a parser for regular expressions, we’ll define some operations on the RegularExpression classes so that evaluating a Smalltalk expression will produce an abstract syntax tree for the corresponding regular expression. That lets us use the built-in Smalltalk compiler as if it were a parser for regular expressions.</p>
<p>To build the abstract syntax tree, we’ll need to define ”|”, “repeat”, and ”&#x26;” as operations on RegularExpression. These operations are defined in class RegularExpression like this:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The asRExp operation will convert literals into RegularExpressions. These operations are defined in class String:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>If we defined these operations higher up in the class hierarchy (Sequenceable-Collection in Smalltalk-80, IndexedCollection in Smalltalk/V), then they would also be defined for classes such as Array and OrderedCollection. This would let regular expressions match sequences of any kind of object.</p>
<p>The second example is a system for manipulating and evaluating Boolean expressions implemented in C++. The terminal symbols in this language are Boolean variables, that is, the constants true and false. Nonterminal symbols represent expressions containing the operators and, or, and not. The grammar is defined as follows1:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>We define two operations on Boolean expressions. The first, Evaluate, evaluates a Boolean expression in a context that assigns a true or false value to each variable. The second operation, Replace, produces a new Boolean expression by replacing a variable with an expression. Replace shows how the Interpreter pattern can be used for more than just evaluating expressions. In this case, it manipulates the expression itself.</p>
<p>We give details of just the BooleanExp, VariableExp, and AndExp classes here. Classes OrExp and NotExp are similar to AndExp. The Constant class represents the Boolean constants.</p>
<p>BooleanExp defines the interface for all classes that define a Boolean expression:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The class Context defines a mapping from variables to Boolean values, which we represent with the C++ constants true and false. Context has the following interface:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>A VariableExp represents a named variable:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The constructor takes the variable’s name as an argument:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Evaluating a variable returns its value in the current context.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Copying a variable returns a new VariableExp:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>To replace a variable with an expression, we check to see if the variable has the same name as the one it is passed as an argument:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>An AndExp represents an expression made by ANDing two Boolean expressions together.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Evaluating an AndExp evaluates its operands and returns the logical “and” of the results.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>An AndExp implements Copy and Replace by making recursive calls on its operands:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Now we can define the Boolean expression</p>
<p>(true and x) or (y and (not x))</p>
<p>and evaluate it for a given assignment of true or false to the variables x and y:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The expression evaluates to true for this assignment to x and y. We can evaluate the expression with a different assignment to the variables simply by changing the context.</p>
<p>Finally, we can replace the variable y with a new expression and then reevaluate it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>This example illustrates an important point about the Interpreter pattern: many kinds of operations can “interpret” a sentence. Of the three operations defined for BooleanExp, Evaluate fits our idea of what an interpreter should do most closely—that is, it interprets a program or expression and returns a simple result.</p>
<p>However, Replace can be viewed as an interpreter as well. It’s an interpreter whose context is the name of the variable being replaced along with the expression that replaces it, and whose result is a new expression. Even Copy can be thought of as an interpreter with an empty context. It may seem a little strange to consider Replace and Copy to be interpreters, because these are just basic operations on trees. The examples in Visitor (331) illustrate how all three operations can be refactored into a separate “interpreter” visitor, thus showing that the similarity is deep.</p>
<p>The Interpreter pattern is more than just an operation distributed over a class hierarchy that uses the Composite (163) pattern. We consider Evaluate an interpreter because we think of the BooleanExp class hierarchy as representing a language. Given a similar class hierarchy for representing automotive part assemblies, it’s unlikely we’d consider operations like Weight and Copy as interpreters even though they are distributed over a class hierarchy that uses the Composite pattern—we just don’t think of automotive parts as a language. It’s a matter of perspective; if we started publishing grammars of automotive parts, then we could consider operations on those parts to be ways of interpreting the language.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="known-uses">Known Uses</h2><a class="sl-anchor-link" href="#known-uses"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Known Uses”</span></a></div>
<p>The Interpreter pattern is widely used in compilers implemented with object-oriented languages, as the Smalltalk compilers are. SPECTalk uses the pattern to interpret descriptions of input file formats [Sza92]. The QOCA constraint-solving toolkit uses it to evaluate constraints [HHMV92].</p>
<p>Considered in its most general form (i.e., an operation distributed over a class hierarchy based on the Composite pattern), nearly every use of the Composite pattern will also contain the Interpreter pattern. But the Interpreter pattern should be reserved for those cases in which you want to think of the class hierarchy as defining a language.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="related-patterns">Related Patterns</h2><a class="sl-anchor-link" href="#related-patterns"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Related Patterns”</span></a></div>
<p>Composite (163): The abstract syntax tree is an instance of the Composite pattern.</p>
<p>Flyweight (195) shows how to share terminal symbols within the abstract syntax tree.</p>
<p>Iterator (257): The interpreter can use an Iterator to traverse the structure.</p>
<p>Visitor (331) can be used to maintain the behavior in each node in the abstract syntax tree in one class.</p> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/design_patterns/behavioral/command/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Command</span> </span> </a> <a href="/design_patterns/behavioral/iterator/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Iterator</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>