<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Object Behavioral: Iterator | DevBook</title><link rel="canonical" href="https://j-ochmann.github.io/design_patterns/behavioral/iterator/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.16.6"/><meta name="generator" content="Starlight v0.37.1"/><meta property="og:title" content="Object Behavioral: Iterator"/><meta property="og:type" content="article"/><meta property="og:url" content="https://j-ochmann.github.io/design_patterns/behavioral/iterator/"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="DevBook"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/_astro/index.BGYTJlGT.css">
<style>@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-zntqmydn){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media(min-width:50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media(min-width:50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3" translate="no"> DevBook </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.cjYDvRdi.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/j-ochmann" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="1mzibzf" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Quick Reference</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/quick_reference/cpp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">C++</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Design Patterns</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <details class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Creational</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/creational/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/abstract_factory/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Abstract Factory</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/builder/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Builder</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/factory_methot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Factory Method</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/prototype/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Prototype</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/singleton/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Singleton</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/creational/discussion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Discussion</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Structural</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/structural/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/adapter/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adapter</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/bridge/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Bridge</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/composite/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Composite</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/decorator/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Decorator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/facade/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Facade</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/flyweight/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Flyweight</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/proxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Proxy</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/structural/discussion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Discussion</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <span class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Behavioral</span>  </span> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Overview</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/chain_of_responsibility/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Chain of Responsibility</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/command/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Command</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/interpreter/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Interpreter</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/iterator/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Iterator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/mediator/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Mediator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/memento/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Memento</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/observer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Observer</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/state/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">State</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/strategy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Strategy</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/template_method/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Template Method</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/visitor/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Visitor</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/design_patterns/behavioral/discussion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Discussion</span>  </a> </li> </ul>  </details> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/external_resources/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">External Resources</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/3d-graph-example/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">3D Graph Example</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/ai/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">Artificial Intelligence</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/courses/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">Courses</span> <span class="sl-badge default small  astro-3ii7xxms astro-avdet4wd">Free</span> </a> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <a href="https://github.com/j-ochmann" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><span class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#intent" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Intent</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#also-known-as" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Also Known As</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#motivation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Motivation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#applicability" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Applicability</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#structure" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#participants" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Participants</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#collaborations" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Collaborations</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#consequences" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Consequences</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#implementation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Implementation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#sample-code" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Sample Code</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#known-uses" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Known Uses</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#related-patterns" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Related Patterns</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#intent" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Intent</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#also-known-as" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Also Known As</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#motivation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Motivation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#applicability" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Applicability</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#structure" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Structure</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#participants" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Participants</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#collaborations" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Collaborations</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#consequences" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Consequences</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#implementation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Implementation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#sample-code" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Sample Code</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#known-uses" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Known Uses</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#related-patterns" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Related Patterns</span> </a>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Object Behavioral: Iterator</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <div class="sl-heading-wrapper level-h2"><h2 id="intent">Intent</h2><a class="sl-anchor-link" href="#intent"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Intent”</span></a></div>
<p>Provide a way to access the elements of an aggregate object sequentially without exposing its underlying representation.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="also-known-as">Also Known As</h2><a class="sl-anchor-link" href="#also-known-as"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Also Known As”</span></a></div>
<p>Cursor</p>
<div class="sl-heading-wrapper level-h2"><h2 id="motivation">Motivation</h2><a class="sl-anchor-link" href="#motivation"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Motivation”</span></a></div>
<p>An aggregate object such as a list should give you a way to access its elements without exposing its internal structure. Moreover, you might want to traverse the list in different ways, depending on what you want to accomplish. But you probably don’t want to bloat the List interface with operations for different traversals, even if you could anticipate the ones you will need. You might also need to have more than one traversal pending on the same list.</p>
<p>The Iterator pattern lets you do all this. The key idea in this pattern is to take the responsibility for access and traversal out of the list object and put it into an iterator object. The Iterator class defines an interface for accessing the list’s elements. An iterator object is responsible for keeping track of the current element; that is, it knows which elements have been traversed already.</p>
<p>For example, a List class would call for a ListIterator with the following relationship between them:</p>
<img alt="" height="100" id="mermaid-0" src="data:image/svg+xml,%3csvg id=&#x27;mermaid-0&#x27; width=&#x27;100%25&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; class=&#x27;classDiagram&#x27; style=&#x27;max-width: 98.6875px%3b&#x27; viewBox=&#x27;0 0 98.6875 100&#x27; role=&#x27;graphics-document document&#x27; aria-roledescription=&#x27;class&#x27;%3e%3cstyle%3e%23mermaid-0%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-0 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-0 .error-icon%7bfill:%23552222%3b%7d%23mermaid-0 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-0 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-0 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-0 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-0 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-0 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-0 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-0 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-0 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-0 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-0 p%7bmargin:0%3b%7d%23mermaid-0 g.classGroup text%7bfill:%239370DB%3bstroke:none%3bfont-family:arial%2csans-serif%3bfont-size:10px%3b%7d%23mermaid-0 g.classGroup text .title%7bfont-weight:bolder%3b%7d%23mermaid-0 .nodeLabel%2c%23mermaid-0 .edgeLabel%7bcolor:%23131300%3b%7d%23mermaid-0 .edgeLabel .label rect%7bfill:%23ECECFF%3b%7d%23mermaid-0 .label text%7bfill:%23131300%3b%7d%23mermaid-0 .labelBkg%7bbackground:%23ECECFF%3b%7d%23mermaid-0 .edgeLabel .label span%7bbackground:%23ECECFF%3b%7d%23mermaid-0 .classTitle%7bfont-weight:bolder%3b%7d%23mermaid-0 .node rect%2c%23mermaid-0 .node circle%2c%23mermaid-0 .node ellipse%2c%23mermaid-0 .node polygon%2c%23mermaid-0 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-0 .divider%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-0 g.clickable%7bcursor:pointer%3b%7d%23mermaid-0 g.classGroup rect%7bfill:%23ECECFF%3bstroke:%239370DB%3b%7d%23mermaid-0 g.classGroup line%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-0 .classLabel .box%7bstroke:none%3bstroke-width:0%3bfill:%23ECECFF%3bopacity:0.5%3b%7d%23mermaid-0 .classLabel .label%7bfill:%239370DB%3bfont-size:10px%3b%7d%23mermaid-0 .relation%7bstroke:%23333333%3bstroke-width:1%3bfill:none%3b%7d%23mermaid-0 .dashed-line%7bstroke-dasharray:3%3b%7d%23mermaid-0 .dotted-line%7bstroke-dasharray:1 2%3b%7d%23mermaid-0 %23compositionStart%2c%23mermaid-0 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23compositionEnd%2c%23mermaid-0 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23dependencyStart%2c%23mermaid-0 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23dependencyStart%2c%23mermaid-0 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23extensionStart%2c%23mermaid-0 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23extensionEnd%2c%23mermaid-0 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23aggregationStart%2c%23mermaid-0 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23aggregationEnd%2c%23mermaid-0 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23lollipopStart%2c%23mermaid-0 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 %23lollipopEnd%2c%23mermaid-0 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-0 .edgeTerminals%7bfont-size:11px%3bline-height:initial%3b%7d%23mermaid-0 .classTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-0 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-0 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-0 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-aggregationStart&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-aggregationEnd&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-extensionStart&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c7 L18%2c13 V 1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-extensionEnd&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c1 V 13 L18%2c7 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-compositionStart&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-compositionEnd&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-dependencyStart&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;6&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 5%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-dependencyEnd&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L14%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-lollipopStart&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-0_class-lollipopEnd&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;/%3e%3cg class=&#x27;edgeLabels&#x27;/%3e%3cg class=&#x27;nodes&#x27;%3e%3cg class=&#x27;node default&#x27; id=&#x27;classId-Dummy-0&#x27; transform=&#x27;translate(49.34375%2c 50)&#x27;%3e%3cg class=&#x27;basic label-container&#x27;%3e%3cpath d=&#x27;M-41.34375 -42 L41.34375 -42 L41.34375 42 L-41.34375 42&#x27; stroke=&#x27;none&#x27; stroke-width=&#x27;0&#x27; fill=&#x27;%23ECECFF&#x27; style=&#x27;&#x27;/%3e%3cpath d=&#x27;M-41.34375 -42 C-22.561395197930242 -42%2c -3.779040395860484 -42%2c 41.34375 -42 M-41.34375 -42 C-10.70801230038758 -42%2c 19.92772539922484 -42%2c 41.34375 -42 M41.34375 -42 C41.34375 -17.344346789665313%2c 41.34375 7.311306420669375%2c 41.34375 42 M41.34375 -42 C41.34375 -18.47076913435864%2c 41.34375 5.058461731282719%2c 41.34375 42 M41.34375 42 C18.296647689420777 42%2c -4.750454621158447 42%2c -41.34375 42 M41.34375 42 C17.822032838225002 42%2c -5.699684323549995 42%2c -41.34375 42 M-41.34375 42 C-41.34375 13.630087697351094%2c -41.34375 -14.739824605297812%2c -41.34375 -42 M-41.34375 42 C-41.34375 24.206173947626066%2c -41.34375 6.4123478952521324%2c -41.34375 -42&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;annotation-group text&#x27; transform=&#x27;translate(0%2c -18)&#x27;/%3e%3cg class=&#x27;label-group text&#x27; transform=&#x27;translate(-29.34375%2c -18)&#x27;%3e%3cg class=&#x27;label&#x27; style=&#x27;font-weight: bolder&#x27; transform=&#x27;translate(0%2c-12)&#x27;%3e%3cforeignObject width=&#x27;58.6875&#x27; height=&#x27;24&#x27;%3e%3cdiv xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27; style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 105px%3b text-align: center%3b&#x27;%3e%3cspan class=&#x27;nodeLabel markdown-node-label&#x27; style=&#x27;&#x27;%3e%3cp%3eDummy%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;members-group text&#x27; transform=&#x27;translate(-29.34375%2c 30)&#x27;/%3e%3cg class=&#x27;methods-group text&#x27; transform=&#x27;translate(-29.34375%2c 60)&#x27;/%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 6 C-18.66593609883218 6%2c 4.01187780233564 6%2c 41.34375 6 M-41.34375 6 C-18.56349386877338 6%2c 4.216762262453237 6%2c 41.34375 6&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 24 C-18.95631256347449 24%2c 3.4311248730510187 24%2c 41.34375 24 M-41.34375 24 C-16.559100943456713 24%2c 8.225548113086575 24%2c 41.34375 24&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="98.6875">
<p>Before you can instantiate ListIterator, you must supply the List to traverse. Once you have the ListIterator instance, you can access the list’s elements sequentially. The CurrentItem operation returns the current element in the list, First initializes the current element to the first element, Next advances the current element to the next element, and IsDone tests whether we’ve advanced beyond the last element—that is, we’re finished with the traversal.</p>
<p>Separating the traversal mechanism from the List object lets us define iterators for different traversal policies without enumerating them in the List interface. For example, FilteringListIterator might provide access only to those elements that satisfy specific filtering constraints.</p>
<p>Notice that the iterator and the list are coupled, and the client must know that it is a list that’s traversed as opposed to some other aggregate structure. Hence the client commits to a particular aggregate structure. It would be better if we could change the aggregate class without changing client code. We can do this by generalizing the iterator concept to support polymorphic iteration.</p>
<p>As an example, let’s assume that we also have a SkipList implementation of a list. A skiplist [Pug90] is a probabilistic data structure with characteristics similar to balanced trees. We want to be able to write code that works for both List and SkipList objects.</p>
<p>We define an AbstractList class that provides a common interface for manipulating lists. Similarly, we need an abstract Iterator class that defines a common iteration interface. Then we can define concrete Iterator subclasses for the different list implementations. As a result, the iteration mechanism becomes independent of concrete aggregate classes.</p>
<img alt="" height="100" id="mermaid-1" src="data:image/svg+xml,%3csvg id=&#x27;mermaid-1&#x27; width=&#x27;100%25&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; class=&#x27;classDiagram&#x27; style=&#x27;max-width: 98.6875px%3b&#x27; viewBox=&#x27;0 0 98.6875 100&#x27; role=&#x27;graphics-document document&#x27; aria-roledescription=&#x27;class&#x27;%3e%3cstyle%3e%23mermaid-1%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-1 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-1 .error-icon%7bfill:%23552222%3b%7d%23mermaid-1 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-1 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-1 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-1 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-1 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-1 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-1 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-1 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-1 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-1 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-1 p%7bmargin:0%3b%7d%23mermaid-1 g.classGroup text%7bfill:%239370DB%3bstroke:none%3bfont-family:arial%2csans-serif%3bfont-size:10px%3b%7d%23mermaid-1 g.classGroup text .title%7bfont-weight:bolder%3b%7d%23mermaid-1 .nodeLabel%2c%23mermaid-1 .edgeLabel%7bcolor:%23131300%3b%7d%23mermaid-1 .edgeLabel .label rect%7bfill:%23ECECFF%3b%7d%23mermaid-1 .label text%7bfill:%23131300%3b%7d%23mermaid-1 .labelBkg%7bbackground:%23ECECFF%3b%7d%23mermaid-1 .edgeLabel .label span%7bbackground:%23ECECFF%3b%7d%23mermaid-1 .classTitle%7bfont-weight:bolder%3b%7d%23mermaid-1 .node rect%2c%23mermaid-1 .node circle%2c%23mermaid-1 .node ellipse%2c%23mermaid-1 .node polygon%2c%23mermaid-1 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-1 .divider%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-1 g.clickable%7bcursor:pointer%3b%7d%23mermaid-1 g.classGroup rect%7bfill:%23ECECFF%3bstroke:%239370DB%3b%7d%23mermaid-1 g.classGroup line%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-1 .classLabel .box%7bstroke:none%3bstroke-width:0%3bfill:%23ECECFF%3bopacity:0.5%3b%7d%23mermaid-1 .classLabel .label%7bfill:%239370DB%3bfont-size:10px%3b%7d%23mermaid-1 .relation%7bstroke:%23333333%3bstroke-width:1%3bfill:none%3b%7d%23mermaid-1 .dashed-line%7bstroke-dasharray:3%3b%7d%23mermaid-1 .dotted-line%7bstroke-dasharray:1 2%3b%7d%23mermaid-1 %23compositionStart%2c%23mermaid-1 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23compositionEnd%2c%23mermaid-1 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23dependencyStart%2c%23mermaid-1 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23dependencyStart%2c%23mermaid-1 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23extensionStart%2c%23mermaid-1 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23extensionEnd%2c%23mermaid-1 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23aggregationStart%2c%23mermaid-1 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23aggregationEnd%2c%23mermaid-1 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23lollipopStart%2c%23mermaid-1 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 %23lollipopEnd%2c%23mermaid-1 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-1 .edgeTerminals%7bfont-size:11px%3bline-height:initial%3b%7d%23mermaid-1 .classTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-1 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-1 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-1 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-aggregationStart&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-aggregationEnd&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-extensionStart&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c7 L18%2c13 V 1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-extensionEnd&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c1 V 13 L18%2c7 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-compositionStart&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-compositionEnd&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-dependencyStart&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;6&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 5%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-dependencyEnd&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L14%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-lollipopStart&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-1_class-lollipopEnd&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;/%3e%3cg class=&#x27;edgeLabels&#x27;/%3e%3cg class=&#x27;nodes&#x27;%3e%3cg class=&#x27;node default&#x27; id=&#x27;classId-Dummy-1&#x27; transform=&#x27;translate(49.34375%2c 50)&#x27;%3e%3cg class=&#x27;basic label-container&#x27;%3e%3cpath d=&#x27;M-41.34375 -42 L41.34375 -42 L41.34375 42 L-41.34375 42&#x27; stroke=&#x27;none&#x27; stroke-width=&#x27;0&#x27; fill=&#x27;%23ECECFF&#x27; style=&#x27;&#x27;/%3e%3cpath d=&#x27;M-41.34375 -42 C-8.678866670310214 -42%2c 23.986016659379573 -42%2c 41.34375 -42 M-41.34375 -42 C-23.95042906253121 -42%2c -6.55710812506242 -42%2c 41.34375 -42 M41.34375 -42 C41.34375 -17.724350186748307%2c 41.34375 6.551299626503386%2c 41.34375 42 M41.34375 -42 C41.34375 -24.453591861547718%2c 41.34375 -6.907183723095436%2c 41.34375 42 M41.34375 42 C9.347170262819855 42%2c -22.64940947436029 42%2c -41.34375 42 M41.34375 42 C10.866994830419905 42%2c -19.60976033916019 42%2c -41.34375 42 M-41.34375 42 C-41.34375 16.900879698863882%2c -41.34375 -8.198240602272236%2c -41.34375 -42 M-41.34375 42 C-41.34375 10.078823306235751%2c -41.34375 -21.842353387528497%2c -41.34375 -42&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;annotation-group text&#x27; transform=&#x27;translate(0%2c -18)&#x27;/%3e%3cg class=&#x27;label-group text&#x27; transform=&#x27;translate(-29.34375%2c -18)&#x27;%3e%3cg class=&#x27;label&#x27; style=&#x27;font-weight: bolder&#x27; transform=&#x27;translate(0%2c-12)&#x27;%3e%3cforeignObject width=&#x27;58.6875&#x27; height=&#x27;24&#x27;%3e%3cdiv xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27; style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 105px%3b text-align: center%3b&#x27;%3e%3cspan class=&#x27;nodeLabel markdown-node-label&#x27; style=&#x27;&#x27;%3e%3cp%3eDummy%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;members-group text&#x27; transform=&#x27;translate(-29.34375%2c 30)&#x27;/%3e%3cg class=&#x27;methods-group text&#x27; transform=&#x27;translate(-29.34375%2c 60)&#x27;/%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 6 C-13.405526921711989 6%2c 14.532696156576023 6%2c 41.34375 6 M-41.34375 6 C-10.002055726901009 6%2c 21.339638546197982 6%2c 41.34375 6&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 24 C-12.620538405681316 24%2c 16.102673188637368 24%2c 41.34375 24 M-41.34375 24 C-23.60963639874981 24%2c -5.87552279749962 24%2c 41.34375 24&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="98.6875">
<p>The remaining problem is how to create the iterator. Since we want to write code that’s independent of the concrete List subclasses, we cannot simply instantiate a specific class. Instead, we make the list objects responsible for creating their corresponding iterator. This requires an operation like CreateIterator through which clients request an iterator object.</p>
<p>CreateIterator is an example of a factory method (see Factory Method (107)). We use it here to let a client ask a list object for the appropriate iterator. The Factory Method approach give rise to two class hierarchies, one for lists and another for iterators. The CreateIterator factory method “connects” the two hierarchies.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="applicability">Applicability</h2><a class="sl-anchor-link" href="#applicability"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Applicability”</span></a></div>
<p>Use the Iterator pattern</p>
<ul>
<li>to access an aggregate object’s contents without exposing its internal representation.</li>
<li>to support multiple traversals of aggregate objects.</li>
<li>to provide a uniform interface for traversing different aggregate structures (that is, to support polymorphic iteration).</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="structure">Structure</h2><a class="sl-anchor-link" href="#structure"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Structure”</span></a></div>
<img alt="" height="100" id="mermaid-2" src="data:image/svg+xml,%3csvg id=&#x27;mermaid-2&#x27; width=&#x27;100%25&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; xmlns:xlink=&#x27;http://www.w3.org/1999/xlink&#x27; class=&#x27;classDiagram&#x27; style=&#x27;max-width: 98.6875px%3b&#x27; viewBox=&#x27;0 0 98.6875 100&#x27; role=&#x27;graphics-document document&#x27; aria-roledescription=&#x27;class&#x27;%3e%3cstyle%3e%23mermaid-2%7bfont-family:arial%2csans-serif%3bfont-size:16px%3bfill:%23333%3b%7d%40keyframes edge-animation-frame%7bfrom%7bstroke-dashoffset:0%3b%7d%7d%40keyframes dash%7bto%7bstroke-dashoffset:0%3b%7d%7d%23mermaid-2 .edge-animation-slow%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 50s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .edge-animation-fast%7bstroke-dasharray:9%2c5!important%3bstroke-dashoffset:900%3banimation:dash 20s linear infinite%3bstroke-linecap:round%3b%7d%23mermaid-2 .error-icon%7bfill:%23552222%3b%7d%23mermaid-2 .error-text%7bfill:%23552222%3bstroke:%23552222%3b%7d%23mermaid-2 .edge-thickness-normal%7bstroke-width:1px%3b%7d%23mermaid-2 .edge-thickness-thick%7bstroke-width:3.5px%3b%7d%23mermaid-2 .edge-pattern-solid%7bstroke-dasharray:0%3b%7d%23mermaid-2 .edge-thickness-invisible%7bstroke-width:0%3bfill:none%3b%7d%23mermaid-2 .edge-pattern-dashed%7bstroke-dasharray:3%3b%7d%23mermaid-2 .edge-pattern-dotted%7bstroke-dasharray:2%3b%7d%23mermaid-2 .marker%7bfill:%23333333%3bstroke:%23333333%3b%7d%23mermaid-2 .marker.cross%7bstroke:%23333333%3b%7d%23mermaid-2 svg%7bfont-family:arial%2csans-serif%3bfont-size:16px%3b%7d%23mermaid-2 p%7bmargin:0%3b%7d%23mermaid-2 g.classGroup text%7bfill:%239370DB%3bstroke:none%3bfont-family:arial%2csans-serif%3bfont-size:10px%3b%7d%23mermaid-2 g.classGroup text .title%7bfont-weight:bolder%3b%7d%23mermaid-2 .nodeLabel%2c%23mermaid-2 .edgeLabel%7bcolor:%23131300%3b%7d%23mermaid-2 .edgeLabel .label rect%7bfill:%23ECECFF%3b%7d%23mermaid-2 .label text%7bfill:%23131300%3b%7d%23mermaid-2 .labelBkg%7bbackground:%23ECECFF%3b%7d%23mermaid-2 .edgeLabel .label span%7bbackground:%23ECECFF%3b%7d%23mermaid-2 .classTitle%7bfont-weight:bolder%3b%7d%23mermaid-2 .node rect%2c%23mermaid-2 .node circle%2c%23mermaid-2 .node ellipse%2c%23mermaid-2 .node polygon%2c%23mermaid-2 .node path%7bfill:%23ECECFF%3bstroke:%239370DB%3bstroke-width:1px%3b%7d%23mermaid-2 .divider%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-2 g.clickable%7bcursor:pointer%3b%7d%23mermaid-2 g.classGroup rect%7bfill:%23ECECFF%3bstroke:%239370DB%3b%7d%23mermaid-2 g.classGroup line%7bstroke:%239370DB%3bstroke-width:1%3b%7d%23mermaid-2 .classLabel .box%7bstroke:none%3bstroke-width:0%3bfill:%23ECECFF%3bopacity:0.5%3b%7d%23mermaid-2 .classLabel .label%7bfill:%239370DB%3bfont-size:10px%3b%7d%23mermaid-2 .relation%7bstroke:%23333333%3bstroke-width:1%3bfill:none%3b%7d%23mermaid-2 .dashed-line%7bstroke-dasharray:3%3b%7d%23mermaid-2 .dotted-line%7bstroke-dasharray:1 2%3b%7d%23mermaid-2 %23compositionStart%2c%23mermaid-2 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23compositionEnd%2c%23mermaid-2 .composition%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23dependencyStart%2c%23mermaid-2 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23dependencyStart%2c%23mermaid-2 .dependency%7bfill:%23333333!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23extensionStart%2c%23mermaid-2 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23extensionEnd%2c%23mermaid-2 .extension%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23aggregationStart%2c%23mermaid-2 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23aggregationEnd%2c%23mermaid-2 .aggregation%7bfill:transparent!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23lollipopStart%2c%23mermaid-2 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 %23lollipopEnd%2c%23mermaid-2 .lollipop%7bfill:%23ECECFF!important%3bstroke:%23333333!important%3bstroke-width:1%3b%7d%23mermaid-2 .edgeTerminals%7bfont-size:11px%3bline-height:initial%3b%7d%23mermaid-2 .classTitleText%7btext-anchor:middle%3bfont-size:18px%3bfill:%23333%3b%7d%23mermaid-2 .label-icon%7bdisplay:inline-block%3bheight:1em%3boverflow:visible%3bvertical-align:-0.125em%3b%7d%23mermaid-2 .node .label-icon path%7bfill:currentColor%3bstroke:revert%3bstroke-width:revert%3b%7d%23mermaid-2 :root%7b--mermaid-font-family:arial%2csans-serif%3b%7d%3c/style%3e%3cg%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-aggregationStart&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-aggregationEnd&#x27; class=&#x27;marker aggregation class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-extensionStart&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c7 L18%2c13 V 1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-extensionEnd&#x27; class=&#x27;marker extension class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 1%2c1 V 13 L18%2c7 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-compositionStart&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;18&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-compositionEnd&#x27; class=&#x27;marker composition class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-dependencyStart&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;6&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 5%2c7 L9%2c13 L1%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-dependencyEnd&#x27; class=&#x27;marker dependency class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;20&#x27; markerHeight=&#x27;28&#x27; orient=&#x27;auto&#x27;%3e%3cpath d=&#x27;M 18%2c7 L9%2c13 L14%2c7 L9%2c1 Z&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-lollipopStart&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;13&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cdefs%3e%3cmarker id=&#x27;mermaid-2_class-lollipopEnd&#x27; class=&#x27;marker lollipop class&#x27; refX=&#x27;1&#x27; refY=&#x27;7&#x27; markerWidth=&#x27;190&#x27; markerHeight=&#x27;240&#x27; orient=&#x27;auto&#x27;%3e%3ccircle stroke=&#x27;black&#x27; fill=&#x27;transparent&#x27; cx=&#x27;7&#x27; cy=&#x27;7&#x27; r=&#x27;6&#x27;/%3e%3c/marker%3e%3c/defs%3e%3cg class=&#x27;root&#x27;%3e%3cg class=&#x27;clusters&#x27;/%3e%3cg class=&#x27;edgePaths&#x27;/%3e%3cg class=&#x27;edgeLabels&#x27;/%3e%3cg class=&#x27;nodes&#x27;%3e%3cg class=&#x27;node default&#x27; id=&#x27;classId-Dummy-2&#x27; transform=&#x27;translate(49.34375%2c 50)&#x27;%3e%3cg class=&#x27;basic label-container&#x27;%3e%3cpath d=&#x27;M-41.34375 -42 L41.34375 -42 L41.34375 42 L-41.34375 42&#x27; stroke=&#x27;none&#x27; stroke-width=&#x27;0&#x27; fill=&#x27;%23ECECFF&#x27; style=&#x27;&#x27;/%3e%3cpath d=&#x27;M-41.34375 -42 C-16.10961766150135 -42%2c 9.1245146769973 -42%2c 41.34375 -42 M-41.34375 -42 C-17.361162378051127 -42%2c 6.621425243897747 -42%2c 41.34375 -42 M41.34375 -42 C41.34375 -15.789882313148468%2c 41.34375 10.420235373703065%2c 41.34375 42 M41.34375 -42 C41.34375 -12.620587724374456%2c 41.34375 16.758824551251088%2c 41.34375 42 M41.34375 42 C11.449017004383851 42%2c -18.445715991232298 42%2c -41.34375 42 M41.34375 42 C24.305626212468344 42%2c 7.267502424936687 42%2c -41.34375 42 M-41.34375 42 C-41.34375 9.979050746997636%2c -41.34375 -22.041898506004728%2c -41.34375 -42 M-41.34375 42 C-41.34375 8.403086450858197%2c -41.34375 -25.193827098283606%2c -41.34375 -42&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;annotation-group text&#x27; transform=&#x27;translate(0%2c -18)&#x27;/%3e%3cg class=&#x27;label-group text&#x27; transform=&#x27;translate(-29.34375%2c -18)&#x27;%3e%3cg class=&#x27;label&#x27; style=&#x27;font-weight: bolder&#x27; transform=&#x27;translate(0%2c-12)&#x27;%3e%3cforeignObject width=&#x27;58.6875&#x27; height=&#x27;24&#x27;%3e%3cdiv xmlns=&#x27;http://www.w3.org/1999/xhtml&#x27; style=&#x27;display: table-cell%3b white-space: nowrap%3b line-height: 1.5%3b max-width: 105px%3b text-align: center%3b&#x27;%3e%3cspan class=&#x27;nodeLabel markdown-node-label&#x27; style=&#x27;&#x27;%3e%3cp%3eDummy%3c/p%3e%3c/span%3e%3c/div%3e%3c/foreignObject%3e%3c/g%3e%3c/g%3e%3cg class=&#x27;members-group text&#x27; transform=&#x27;translate(-29.34375%2c 30)&#x27;/%3e%3cg class=&#x27;methods-group text&#x27; transform=&#x27;translate(-29.34375%2c 60)&#x27;/%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 6 C-23.0232054879453 6%2c -4.702660975890602 6%2c 41.34375 6 M-41.34375 6 C-18.874714521805593 6%2c 3.594320956388813 6%2c 41.34375 6&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3cg class=&#x27;divider&#x27; style=&#x27;&#x27;%3e%3cpath d=&#x27;M-41.34375 24 C-12.30194795824358 24%2c 16.73985408351284 24%2c 41.34375 24 M-41.34375 24 C-24.09920432364516 24%2c -6.8546586472903215 24%2c 41.34375 24&#x27; stroke=&#x27;%239370DB&#x27; stroke-width=&#x27;1.3&#x27; fill=&#x27;none&#x27; stroke-dasharray=&#x27;0 0&#x27; style=&#x27;&#x27;/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e" width="98.6875">
<div class="sl-heading-wrapper level-h2"><h2 id="participants">Participants</h2><a class="sl-anchor-link" href="#participants"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Participants”</span></a></div>
<ul>
<li>Iterator</li>
<li>defines an interface for accessing and traversing elements.</li>
<li>ConcreteIterator</li>
<li>implements the Iterator interface.</li>
<li>keeps track of the current position in the traversal of the aggregate.</li>
<li>Aggregate</li>
<li>defines an interface for creating an Iterator object.</li>
<li>ConcreteAggregate</li>
<li>implements the Iterator creation interface to return an instance of the proper ConcreteIterator.</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="collaborations">Collaborations</h2><a class="sl-anchor-link" href="#collaborations"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Collaborations”</span></a></div>
<ul>
<li>A ConcreteIterator keeps track of the current object in the aggregate and can compute the succeeding object in the traversal.</li>
</ul>
<div class="sl-heading-wrapper level-h2"><h2 id="consequences">Consequences</h2><a class="sl-anchor-link" href="#consequences"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Consequences”</span></a></div>
<p>The Iterator pattern has three important consequences:</p>
<ol>
<li>
<p>It supports variations in the traversal of an aggregate. Complex aggregates may be traversed in many ways. For example, code generation and semantic checking involve traversing parse trees. Code generation may traverse the parse tree inorder or preorder. Iterators make it easy to change the traversal algorithm: Just replace the iterator instance with a different one. You can also define Iterator subclasses to support new traversals.</p>
</li>
<li>
<p>Iterators simplify the Aggregate interface. Iterator’s traversal interface obviates the need for a similar interface in Aggregate, thereby simplifying the aggregate’s interface.</p>
</li>
<li>
<p>More than one traversal can be pending on an aggregate. An iterator keeps track of its own traversal state. Therefore you can have more than one traversal in progress at once.</p>
</li>
</ol>
<div class="sl-heading-wrapper level-h2"><h2 id="implementation">Implementation</h2><a class="sl-anchor-link" href="#implementation"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Implementation”</span></a></div>
<p>Iterator has many implementation variants and alternatives. Some important ones follow. The trade-offs often depend on the control structures your language provides. Some languages (CLU [LG86], for example) even support this pattern directly.</p>
<ol>
<li>Who controls the iteration? A fundamental issue is deciding which party controls the iteration, the iterator or the client that uses the iterator. When the client controls the iteration, the iterator is called an external iterator, and when the iterator controls it, the iterator is an internal iterator.2 Clients that use an external iterator must advance the traversal and request the next element explicitly from the iterator. In contrast, the client hands an internal iterator an operation to perform, and the iterator applies that operation to every element in the aggregate.</li>
</ol>
<p>External iterators are more flexible than internal iterators. It’s easy to compare two collections for equality with an external iterator, for example, but it’s practically impossible with internal iterators. Internal iterators are especially weak in a language like C++ that does not provide anonymous functions, closures, or continuations like Smalltalk and CLOS. But on the other hand, internal iterators are easier to use, because they define the iteration logic for you.</p>
<ol start="2">
<li>Who defines the traversal algorithm? The iterator is not the only place where the traversal algorithm can be defined. The aggregate might define the traversal algorithm and use the iterator to store just the state of the iteration. We call this kind of iterator a cursor, since it merely points to the current position in the aggregate. A client will invoke the Next operation on the aggregate with the cursor as an argument, and the Next operation will change the state of the cursor.3</li>
</ol>
<p>If the iterator is responsible for the traversal algorithm, then it’s easy to use different iteration algorithms on the same aggregate, and it can also be easier to reuse the same algorithm on different aggregates. On the other hand, the traversal algorithm might need to access the private variables of the aggregate. If so, putting the traversal algorithm in the iterator violates the encapsulation of the aggregate.</p>
<ol start="3">
<li>How robust is the iterator? It can be dangerous to modify an aggregate while you’re traversing it. If elements are added or deleted from the aggregate, you might end up accessing an element twice or missing it completely. A simple solution is to copy the aggregate and traverse the copy, but that’s too expensive to do in general.</li>
</ol>
<p>A robust iterator ensures that insertions and removals won’t interfere with traversal, and it does it without copying the aggregate. There are many ways to implement robust iterators. Most rely on registering the iterator with the aggregate. On insertion or removal, the aggregate either adjusts the internal state of iterators it has produced, or it maintains information internally to ensure proper traversal.</p>
<p>Kofler provides a good discussion of how robust iterators are implemented in ET++ [Kof93]. Murray discusses the implementation of robust iterators for the USL StandardComponents’ List class [Mur93].</p>
<ol start="4">
<li>
<p>Additional Iterator operations. The minimal interface to Iterator consists of the operations First, Next, IsDone, and CurrentItem.4 Some additional operations might prove useful. For example, ordered aggregates can have a Previous operation that positions the iterator to the previous element. A SkipTo operation is useful for sorted or indexed collections. SkipTo positions the iterator to an object matching specific criteria.</p>
</li>
<li>
<p>Using polymorphic iterators in C++. Polymorphic iterators have their cost. They require the iterator object to be allocated dynamically by a factory method. Hence they should be used only when there’s a need for polymorphism. Otherwise use concrete iterators, which can be allocated on the stack.</p>
</li>
</ol>
<p>Polymorphic iterators have another drawback: the client is responsible for deleting them. This is error-prone, because it’s easy to forget to free a heap-allocated iterator object when you’re finished with it. That’s especially likely when there are multiple exit points in an operation. And if an exception is triggered, the iterator object will never be freed.</p>
<p>The Proxy (207) pattern provides a remedy. We can use a stack-allocated proxy as a stand-in for the real iterator. The proxy deletes the iterator in its destructor. Thus when the proxy goes out of scope, the real iterator will get deallocated along with it. The proxy ensures proper cleanup, even in the face of exceptions. This is an application of the well-known C++ technique “resource allocation is initialization” [ES90]. The Sample Code gives an example.</p>
<ol start="6">
<li>Iterators may have privileged access. An iterator can be viewed as an extension of the aggregate that created it. The iterator and the aggregate are tightly coupled. We can express this close relationship in C++ by making the iterator a friend of its aggregate. Then you don’t need to define aggregate operations whose sole purpose is to let iterators implement traversal efficiently.</li>
</ol>
<p>However, such privileged access can make defining new traversals difficult, since it’ll require changing the aggregate interface to add another friend. To avoid this problem, the Iterator class can include protected operations for accessing important but publicly unavailable members of the aggregate. Iterator subclasses (and only Iterator subclasses) may use these protected operations to gain privileged access to the aggregate.</p>
<ol start="7">
<li>Iterators for composites. External iterators can be difficult to implement over recursive aggregate structures like those in the Composite (163) pattern, because a position in the structure may span many levels of nested aggregates. Therefore an external iterator has to store a path through the Composite to keep track of the current object. Sometimes it’s easier just to use an internal iterator. It can record the current position simply by calling itself recursively, thereby storing the path implicitly in the call stack.</li>
</ol>
<p>If the nodes in a Composite have an interface for moving from a node to its siblings, parents, and children, then a cursor-based iterator may offer a better alternative. The cursor only needs to keep track of the current node; it can rely on the node interface to traverse the Composite.</p>
<p>Composites often need to be traversed in more than one way. Preorder, postorder, inorder, and breadth-first traversals are common. You can support each kind of traversal with a different class of iterator.</p>
<ol start="8">
<li>Null iterators. A NullIterator is a degenerate iterator that’s helpful for handling boundary conditions. By definition, a NullIterator is always done with traversal; that is, its IsDone operation always evaluates to true.</li>
</ol>
<p>NullIterator can make traversing tree-structured aggregates (like Composites) easier. At each point in the traversal, we ask the current element for an iterator for its children. Aggregate elements return a concrete iterator as usual. But leaf elements return an instance of NullIterator. That lets us implement traversal over the entire structure in a uniform way.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="sample-code">Sample Code</h2><a class="sl-anchor-link" href="#sample-code"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Sample Code”</span></a></div>
<p>We’ll look at the implementation of a simple List class, which is part of our foundation library (Appendix C). We’ll show two Iterator implementations, one for traversing the List in front-to-back order, and another for traversing back-to-front (the foundation library supports only the first one). Then we show how to use these iterators and how to avoid committing to a particular implementation. After that, we change the design to make sure iterators get deleted properly. The last example illustrates an internal iterator and compares it to its external counterpart.</p>
<ol>
<li>List and Iterator interfaces. First let’s look at the part of the List interface that’s relevant to implementing iterators. Refer to Appendix C for the full interface.</li>
</ol>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The List class provides a reasonably efficient way to support iteration through its public interface. It’s sufficient to implement both traversals. So there’s no need to give iterators privileged access to the underlying data structure; that is, the iterator classes are not friends of List. To enable transparent use of the different traversals we define an abstract Iterator class, which defines the iterator interface.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<ol start="2">
<li>Iterator subclass implementations. ListIterator is a subclass of Iterator.</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The implementation of ListIterator is straightforward. It stores the List along with an index _current into the list:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>First positions the iterator to the first element:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Next advances the current element:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>IsDone checks whether the index refers to an element within the List:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Finally, CurrentItem returns the item at the current index. If the iteration has already terminated, then we throw an IteratorOutOfBounds exception:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>The implementation of ReverseListIterator is identical, except its First operation positions _current to the end of the list, and Next decrements _current toward the first item.</p>
<ol start="3">
<li>Using the iterators. Let’s assume we have a List of Employee objects, and we would like to print all the contained employees. The Employee class supports this with a Print operation. To print the list, we define a PrintEmployees operation that takes an iterator as an argument. It uses the iterator to traverse and print the list.</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Since we have iterators for both back-to-front and front-to-back traversals, we can reuse this operation to print the employees in both orders.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<ol start="4">
<li>Avoiding commitment to a specific list implementation. Let’s consider how a skiplist variation of List would affect our iteration code. A SkipList subclass of List must provide a SkipListIterator that implements the Iterator interface. Internally, the SkipListIterator has to keep more than just an index to do the iteration efficiently. But since SkipListIterator conforms to the Iterator interface, the PrintEmployees operation can also be used when the employees are stored in a SkipList object.</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Although this approach works, it would be better if we didn’t have to commit to a specific List implementation, namely SkipList. We can introduce an AbstractList class to standardize the list interface for different list implementations. List and SkipList become subclasses of AbstractList.</p>
<p>To enable polymorphic iteration, AbstractList defines a factory method CreateIterator, which subclasses override to return their corresponding iterator:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>An alternative would be to define a general mixin class Traversable that defines the interface for creating an iterator. Aggregate classes can mix in Traversable to support polymorphic iteration.</p>
<p>List overrides CreateIterator to return a ListIterator object:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Now we’re in a position to write the code for printing the employees independent of a concrete representation.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<ol start="5">
<li>Making sure iterators get deleted. Notice that CreateIterator returns a newly allocated iterator object. We’re responsible for deleting it. If we forget, then we’ve created a storage leak. To make life easier for clients, we’ll provide an IteratorPtr that acts as a proxy for an iterator. It takes care of cleaning up the Iterator object when it goes out of scope.</li>
</ol>
<p>IteratorPtr is always allocated on the stack.5 C++ automatically takes care of calling its destructor, which deletes the real iterator. IteratorPtr overloads both operator-> and operator* in such a way that an IteratorPtr can be treated just like a pointer to an iterator. The members of IteratorPtr are all implemented inline; thus they can incur no overhead.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>IteratorPtr lets us simplify our printing code:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<ol start="6">
<li>An internal ListIterator. As a final example, let’s look at a possible implementation of an internal or passive ListIterator class. Here the iterator controls the iteration, and it applies an operation to each element.</li>
</ol>
<p>The issue in this case is how to parameterize the iterator with the operation we want to perform on each element. C++ does not support anonymous functions or closures that other languages provide for this task. There are at least two options: (1) Pass in a pointer to a function (global or static), or (2) rely on subclassing. In the first case, the iterator calls the operation passed to it at each point in the iteration. In the second case, the iterator calls an operation that a subclass overrides to enact specific behavior.</p>
<p>Neither option is perfect. Often you want to accumulate state during the iteration, and functions aren’t well-suited to that; we would have to use static variables to remember the state. An Iterator subclass provides us with a convenient place to store the accumulated state, like in an instance variable. But creating a subclass for every different traversal is more work.</p>
<p>Here’s a sketch of the second option, which uses subclassing. We call the internal iterator a ListTraverser.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>ListTraverser takes a List instance as a parameter. Internally it uses an external ListIterator to do the traversal. Traverse starts the traversal and calls ProcessItem for each item. The internal iterator can choose to terminate a traversal by returning false from ProcessItem. Traverse returns whether the traversal terminated prematurely.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Let’s use a ListTraverser to print the first 10 employees from our employee list. To do it we have to subclass ListTraverser and override ProcessItem. We count the number of printed employees in a _count instance variable.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Here’s how PrintNEmployees prints the first 10 employees on the list:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Note how the client doesn’t specify the iteration loop. The entire iteration logic can be reused. This is the primary benefit of an internal iterator. It’s a bit more work than an external iterator, though, because we have to define a new class. Contrast this with using an external iterator:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>Internal iterators can encapsulate different kinds of iteration. For example, FilteringListTraverser encapsulates an iteration that processes only items that satisfy a test:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>This interface is the same as ListTraverser’s except for an added TestItem member function that defines the test. Subclasses override TestItem to specify the test.</p>
<p>Traverse decides to continue the traversal based on the outcome of the test:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="cpp"><code></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code=""><div></div></button></div></figure></div>
<p>A variant of this class could define Traverse to return if at least one item satisfies the test.6</p>
<div class="sl-heading-wrapper level-h2"><h2 id="known-uses">Known Uses</h2><a class="sl-anchor-link" href="#known-uses"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Known Uses”</span></a></div>
<p>Iterators are common in object-oriented systems. Most collection class libraries offer iterators in one form or another.</p>
<p>Here’s an example from the Booch components [Boo94], a popular collection class library. It provides both a fixed size (bounded) and dynamically growing (unbounded) implementation of a queue. The queue interface is defined by an abstract Queue class. To support polymorphic iteration over the different queue implementations, the queue iterator is implemented in the terms of the abstract Queue class interface. This variation has the advantage that you don’t need a factory method to ask the queue implementations for their appropriate iterator. However, it requires the interface of the abstract Queue class to be powerful enough to implement the iterator efficiently.</p>
<p>Iterators don’t have to be defined as explicitly in Smalltalk. The standard collection classes (Bag, Set, Dictionary, OrderedCollection, String, etc.) define an internal iterator method do:, which takes a block (i.e., closure) as an argument. Each element in the collection is bound to the local variable in the block; then the block is executed. Smalltalk also includes a set of Stream classes that support an iterator-like interface. ReadStream is essentially an Iterator, and it can act as an external iterator for all the sequential collections. There are no standard external iterators for nonsequential collections such as Set and Dictionary.</p>
<p>Polymorphic iterators and the cleanup Proxy described earlier are provided by the ET++ container classes [WGM88]. The Unidraw graphical editing framework classes use cursor-based iterators [VL90].</p>
<p>ObjectWindows 2.0 [Bor94] provides a class hierarchy of iterators for containers. You can iterate over different container types in the same way. The ObjectWindow iteration syntax relies on overloading the postincrement operator ++ to advance the iteration.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="related-patterns">Related Patterns</h2><a class="sl-anchor-link" href="#related-patterns"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Related Patterns”</span></a></div>
<p>Composite (163): Iterators are often applied to recursive structures such as Composites.</p>
<p>Factory Method (107): Polymorphic iterators rely on factory methods to instantiate the appropriate Iterator subclass.</p>
<p>Memento (283) is often used in conjunction with the Iterator pattern. An iterator can use a memento to capture the state of an iteration. The iterator stores the memento internally.</p> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/design_patterns/behavioral/interpreter/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Interpreter</span> </span> </a> <a href="/design_patterns/behavioral/mediator/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Mediator</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>