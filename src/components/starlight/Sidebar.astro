---
import type { StarlightRouteData } from '@astrojs/starlight/route-data';
import RootSidebar from '@/components/root/Sidebar.astro';
import GeoSidebar from '@/components/geo/Sidebar.astro';

interface Props extends StarlightRouteData {}
const { pathname } = Astro.url;
---

{pathname.includes('/geo') ? (
  <GeoSidebar {...Astro.props} /> 
) : (
  <RootSidebar {...Astro.props} />
)}

<style is:global> /* is:global ovlivní i ToolBar */
  .sidebar-layout {
    display: flex;
    flex-direction: column;
    position: relative;
  }

  .profile-container {
    position: relative;
    /* Rezervuje místo, aby menu pod ním neskákalo */
    min-height: 200px; 
    display: flex;
    justify-content: center;
    /*padding-top: 2rem;*/
  }

  .social-circle-wrapper {
    position: relative;
    z-index: 1100; 
    margin-bottom: 2rem;
    transition: transform 0.2s ease;
    /* CLEAN CSS SCROLL EFFECT */
    animation: sink-under linear both;
    animation-timeline: scroll();
    animation-range: 0px 80px; 
  }

  .profile-img {
    position: relative;
    display: block;
  }

  .hover-img {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
  }

  .social-circle-wrapper:hover .hover-img {
    opacity: 1;
  }

  @keyframes sink-under {
    0% { z-index: 1100; }
    10% { z-index: 500; } 
    100% { z-index: 500; }
  }

  .wrapper {
    position: relative;
    z-index: 1;
    margin-top: 1rem;
  }

</style>
