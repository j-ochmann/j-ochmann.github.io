---
import ThemeSelect from '@/components/starlight/ThemeSelect.astro';
import LanguageSelect from '@astrojs/starlight/components/LanguageSelect.astro';
import SearchToggle from '@/components/starlight/SearchToggle.astro';
import Icons from '../icons/icons.astro';
import DefaultSidebar from '@astrojs/starlight/components/Sidebar.astro';
import mainImage from '@/assets/img/me/20250712_056.jpg?url';
import hoverImage from '@/assets/img/me/20250712_055.jpg?url';
import SocialCircle from '@/components/SocialCircle.astro';
import { getRelativeLocaleUrl } from 'astro:i18n';
const lang = Astro.currentLocale || 'en';
const aboutLink = getRelativeLocaleUrl(lang, 'about');
---
<Icons />
<!-- Přepínač témat (Slunce/Měsíc) -->
<div class="theme-select-overlay">
  <ThemeSelect />
</div>
<!-- ---------- PROFILE ---------- -->
<div class="social-circle-wrapper">
  <div class="circular-menu">
    <a href={aboutLink} aria-label="About page">
      <img src={mainImage} alt="Jindrich Ochmann, a software engineer, smiling at the camera in a professional portrait setting with a neutral background, conveying approachability and professionalism" class="profile-img main-img" />
      <img src={hoverImage} alt="Jindrich Ochmann, a software engineer, in a professional portrait setting with a neutral background, conveying approachability and professionalism in an alternative pose" class="profile-img hover-img" />
    </a>
    <SocialCircle />
  </div>
</div>

<div class="wrapper">
  <SearchToggle />
  <LanguageSelect />
  <DefaultSidebar {...Astro.props} />
</div>

<style>
  .theme-select-overlay {
    position: absolute;
    top: 10px;
    left: 20px;
    z-index: 0; /* Za zeměkoulí */
  }
</style>