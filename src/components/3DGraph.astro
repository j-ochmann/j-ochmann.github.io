<div id="3d-graph" style="position:fixed; inset:0"></div>

<script is:inline src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
<script is:inline src="https://unpkg.com/three@0.160.0/examples/js/postprocessing/EffectComposer.js"></script>
<script is:inline src="https://unpkg.com/three@0.160.0/examples/js/postprocessing/RenderPass.js"></script>
<script is:inline src="https://unpkg.com/three@0.160.0/examples/js/postprocessing/UnrealBloomPass.js"></script>
<script is:inline src="https://unpkg.com/3d-force-graph"></script>

<script is:inline>
const gData = {
  nodes: [
    { id: 'Animal', color: '#ff6666' },
    { id: 'Mammal', color: '#66ff66' },
    { id: 'Reptile', color: '#6666ff' },
    { id: 'Canine', color: '#87ceeb' },
    { id: 'Feline', color: '#ffa500' },
    { id: 'Dog', color: '#87ceeb' },
    { id: 'Cat', color: '#ffa500' },
    { id: 'Lizard', color: '#6666ff' }
  ],
  links: [
    { source: 'Mammal', target: 'Animal' },
    { source: 'Reptile', target: 'Animal' },
    { source: 'Canine', target: 'Mammal' },
    { source: 'Feline', target: 'Mammal' },
    { source: 'Dog', target: 'Canine' },
    { source: 'Cat', target: 'Feline' },
    { source: 'Lizard', target: 'Reptile' }
  ]
};

const Graph = ForceGraph3D()(document.getElementById('3d-graph'))
  .graphData(gData)
  .backgroundColor('#000003')
  .nodeLabel('id')
  .nodeAutoColorBy('id');

// --- Bloom efekt ---
const bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 4, 1, 0);
Graph.postProcessingComposer().addPass(bloomPass);
</script>